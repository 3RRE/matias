@startuml Casos_de_Uso_Sistema_Satisfaccion_Cliente

title Sistema de Satisfacción del Cliente - Casos de Uso

left to right direction
skinparam packageStyle rectangle

actor "Administrador" as Admin
actor "Cliente" as Cliente
actor "Sistema" as Sistema

rectangle "Sistema de Satisfacción del Cliente" {
    
    package "Gestión de Configuración" {
        usecase "UC01: Configurar Preguntas CSAT" as UC01
        usecase "UC02: Configurar Preguntas NPS" as UC02
        usecase "UC03: Configurar Preguntas Atributo" as UC03
        usecase "UC04: Configurar Tablets por Sala" as UC04
        usecase "UC05: Configurar Recurrencia de Encuesta" as UC05
        usecase "UC06: Activar/Desactivar Preguntas" as UC06
        usecase "UC07: Gestionar Flujo de Preguntas" as UC07
    }
    
    package "Gestión de Encuestas" {
        usecase "UC08: Responder Encuesta" as UC08
        usecase "UC09: Validar Cliente puede Responder" as UC09
        usecase "UC10: Registrar Respuestas" as UC10
        usecase "UC11: Seleccionar Preguntas Aleatorias" as UC11
    }
    
    package "Reportes y Análisis" {
        usecase "UC12: Generar Reporte CSAT" as UC12
        usecase "UC13: Generar Reporte NPS" as UC13
        usecase "UC14: Generar Reporte Atributos" as UC14
        usecase "UC15: Visualizar Comentarios" as UC15
        usecase "UC16: Exportar Datos a Excel" as UC16
        usecase "UC17: Comparar Periodos" as UC17
        usecase "UC18: Calcular Indicadores" as UC18
        usecase "UC19: Visualizar Tendencias" as UC19
    }
    
    package "Gestión de Opciones" {
        usecase "UC20: Crear Opciones de Respuesta" as UC20
        usecase "UC21: Editar Opciones" as UC21
        usecase "UC22: Eliminar Opciones" as UC22
    }
}

' Relaciones Administrador
Admin --> UC01
Admin --> UC02
Admin --> UC03
Admin --> UC04
Admin --> UC05
Admin --> UC06
Admin --> UC07
Admin --> UC12
Admin --> UC13
Admin --> UC14
Admin --> UC15
Admin --> UC16
Admin --> UC17
Admin --> UC20
Admin --> UC21
Admin --> UC22

' Relaciones Cliente
Cliente --> UC08

' Relaciones Sistema
Sistema --> UC09
Sistema --> UC10
Sistema --> UC11
Sistema --> UC18
Sistema --> UC19

' Extensiones y dependencias
UC08 ..> UC09 : <<extend>>
UC08 ..> UC10 : <<include>>
UC08 ..> UC11 : <<include>>

UC12 ..> UC18 : <<include>>
UC13 ..> UC18 : <<include>>
UC14 ..> UC18 : <<include>>

UC12 ..> UC17 : <<include>>
UC13 ..> UC17 : <<include>>
UC14 ..> UC17 : <<include>>

UC03 ..> UC20 : <<include>>
UC06 ..> UC07 : <<include>>

note right of UC03
  Las preguntas atributo se 
  programan por rango de fechas
  y se muestran aleatoriamente
end note

note right of UC05
  Controla que un cliente solo
  responda 1 vez por día o
  sin límite según configuración
end note

note right of UC13
  Calcula:
  - % Detractores
  - % Pasivos
  - % Promotores
  - NPS = %Promotores - %Detractores
end note

@enduml
