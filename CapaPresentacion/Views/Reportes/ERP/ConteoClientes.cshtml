@using S3k.Utilitario;
@{
    ViewBag.Title = "Reporte 9050: Conteo de Clientes";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string fecha_archivos = ClaseEncriptacion.EncriptarCadenaHASH(Convert.ToString(DateTime.Now));
}

@section css{
    <style>
        .center-content {
            display: grid;
            place-items: center;
        }

        /*.modal {
            padding-left: 0px !important;
        }*/

        .modal-xl {
            width: 90vw !important;
        }

       /* @@media (max-width: 768px) {
            .ModalDetalleDiv {
                padding-left: 5%;
            }
        }*/
    </style>
}

<div class="row">
    <div class="col-md-6">
        <div class="block">
            <div class="block-content-outer">
                <div class="block-content-inner">
                    <div class="row">
                        <div class="col-md-12 col-xs-12 col-sm-12">
                            <h1>
                                <span aria-hidden="true" class="icon icon-block-menu"></span>
                                <span class="main-text">
                                    @ViewBag.Title
                                </span>
                            </h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="block">
            <div class="block-content-outer">
                <div class="block-content-inner">
                    <!-- row -->
                    <div class="row">
                        <!-- col -->
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <button type="button" id="btnBusquedaPorInstante" data-tipo="1" class="btn btn-primary btn-sm col-md-12 col-xs-12" disabled>
                                        <span class="glyphicon glyphicon-file"></span>
                                        Por Instante
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- col -->
                        <div class="col-md-6 col-sm-6 col-xs-12 pull-right">
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <button type="button" id="btnBusquedaPorHora" data-tipo="2" class="btn btn-success btn-sm col-md-12 col-xs-12" disabled>
                                        <span class="glyphicon glyphicon-book"></span>
                                        Por Hora
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- col -->
                    </div>
                    <!-- row -->
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="block">
            <div class="block-content-outer">
                <div class="block-content-inner">
                    <!-- row -->
                    <div class="row">
                        <!-- col -->
                        <div class="col-sm-6 col-md-6 col-lg-4">
                            <div class="input-group ">
                                <span class="input-group-addon">
                                    Sala
                                </span>
                                <select class="form-control input-sm codSala" id="cmbSala" name="cmbSala">
                                </select>
                            </div>
                        </div>
                        <!-- col -->
                    </div>
                    <!-- row -->
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="block">
            <div class="block-content-outer">
                <div class="block-content-inner">
                    <!-- row -->
                    <div class="row">
                        <div class="col-md-12">
                            <div style="width: 100%; display: flex; justify-content:space-between">
                                <h1>
                                    <span aria-hidden="true" class="icon icon-block-menu"></span>
                                    <span class="main-text">
                                        <span id="Resultados">Resultados</span>
                                    </span>
                                </h1>
                                <div class="btn-group">
                                    <button class="btn btn-success btn-sm" id="ExportToExcel">
                                        <i class="fa fa-file-excel-o"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover table-condensed" id="tableConteo">
                                    <thead id="tHeadTableConteo">
                                        <tr>
                                            <th>FECHA</th>
                                            <th>01:00</th>
                                            <th>02:00</th>
                                            <th>03:00</th>
                                            <th>04:00</th>
                                            <th>05:00</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tBodyTableConteo"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- row -->
                </div>
            </div>
        </div>
    </div>
</div>

@section modal
{
    <div class="modal fade" id="ModalDetalle" tabindex="-1" role="dialog" aria-labelledby="default-modal-label" aria-hidden="true">
        <div class="modal-dialog ModalDetalleDiv modal-xl">
            <div class="modal-content" data-border-top="multi">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="TituloModal"></h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div style="width: 100%; display: flex; justify-content:space-between">
                                <div class="form-group center-content">
                                    <div class="checkbox" id="checkDias">
                                        <label>
                                            <input type="checkbox" id="btnma" name="checkboxFiltroDetalle" value="optionA" checked> Marca
                                        </label>
                                        <label>
                                            <input type="checkbox" id="btnmo" name="checkboxFiltroDetalle" value="optionA" checked> Modelo
                                        </label>
                                        <label>
                                            <input type="checkbox" id="btnci" name="checkboxFiltroDetalle" value="optionA" checked> Coin In
                                        </label>
                                        <label>
                                            <input type="checkbox" id="btnco" name="checkboxFiltroDetalle" value="optionA" checked> Coin Out
                                        </label>
                                        <label>
                                            <input type="checkbox" id="btncp" name="checkboxFiltroDetalle" value="optionA" checked> Coin Promedio
                                        </label>
                                        <label>
                                            <input type="checkbox" id="btncc" name="checkboxFiltroDetalle" value="optionA" checked> Current Credit
                                        </label>
                                    </div>
                                </div>
                                <div class="btn-group">
                                    <button class="btn btn-success btn-sm ExportToExcelDetalleIcon" id="ExportToExcelDetalle">
                                        <i class="fa fa-file-excel-o"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover table-condensed" id="tableDetalle">
                                    <thead>
                                        <tr>
                                            <th>Maquina</th>
                                            <th>Marca</th>
                                            <th>Modelo</th>
                                            <th>Coin In</th>
                                            <th>Coin Out</th>
                                            <th>Promedio de Apuesta</th>
                                            <th>Current Credit</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                    <tfoot>
                                        <tr>
                                            <th colspan="3" style="text-align:right">Total:</th>
                                            <th id="totalCI"></th>
                                            <th id="totalCO"></th>
                                            <th id="totalPM"></th>
                                            <th id="totalCC"></th>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <div class="modal fade" id="ModalParametrosBusqueda" tabindex="-1" role="dialog" aria-labelledby="default-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" data-border-top="multi">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="TituloModalParametros">Parametros de Busqueda</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <form id="FormReporteSorteopremios" class="form-horizontal">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="col-md-12">
                                        <input type="number" name="name" id="tipoInstanteHora" value="" style="display:none;" />
                                        <div class="form-group center-content">
                                            <div class="radio radio-inline">
                                                <label>
                                                    <input type="radio" id="radioDias" value="dias" name="radioDiaSemana" checked> Dias
                                                </label>
                                                <label>
                                                    <input type="radio" id="radioSemanas" value="semanas" name="radioDiaSemana"> Semanas
                                                </label>
                                            </div>
                                        </div>
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                Fecha Inicio
                                            </span>
                                            <input type="text" class="form-control input-sm onlyDate" id="FechaInicio" readonly />
                                            <span class="input-group-addon input-group-icon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                Fecha Fin
                                            </span>
                                            <input type="text" class="form-control input-sm onlyDate" id="FechaFin" readonly />
                                            <span class="input-group-addon input-group-icon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                Current Credit >=
                                            </span>
                                            <input type="text" class="form-control input-sm" id="CurrentC" />
                                            <span class="input-group-addon input-group-icon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                        <hr size="30">
                                        <div id="DivSemana" style="display:none;">
                                            <div class="form-group center-content">
                                                <div class="radio radio-inline">
                                                    <label>
                                                        <input type="radio" id="radioCronologico" name="radioTipoMostrar" value="cronologico" checked=""> Cronologico
                                                    </label>
                                                    <label>
                                                        <input type="radio" id="radioRangoH" name="radioTipoMostrar" value="rangoH"> Rango Horas
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="form-group center-content">
                                                <div class="checkbox" id="checkDias">
                                                    <label>
                                                        <input type="checkbox" name="checkboxDias" value="Lunes"> Lunes
                                                    </label>
                                                    <label>
                                                        <input type="checkbox" name="checkboxDias" value="Martes"> Martes
                                                    </label>
                                                    <label>
                                                        <input type="checkbox" name="checkboxDias" value="Miercoles"> Miercoles
                                                    </label>
                                                    <label>
                                                        <input type="checkbox" name="checkboxDias" value="Jueves"> Jueves
                                                    </label>
                                                    <label>
                                                        <input type="checkbox" name="checkboxDias" value="Viernes"> Viernes
                                                    </label>
                                                    <label>
                                                        <input type="checkbox" name="checkboxDias" value="Sabado"> Sabado
                                                    </label>
                                                    <label>
                                                        <input type="checkbox" name="checkboxDias" value="Domingo"> Domingo
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="input-group">
                                                <span class="input-group-addon">
                                                    Hora Inicial
                                                </span>
                                                <input type="text" class="form-control input-sm onlyHour" id="HoraInicialSemanas" name="HoraInicialSemanas" readonly data-val="true" data-val-required="Este campo es obligatorio.">
                                                <span class="input-group-addon input-group-icon">
                                                    <span class="glyphicon glyphicon-time"></span>
                                                </span>
                                            </div>
                                            <div class="input-group">
                                                <span class="input-group-addon">
                                                    Hora Final
                                                </span>
                                                <input type="text" class="form-control input-sm onlyHour" id="HoraFinalSemanas" name="HoraFinalSemanas" readonly data-val="true" data-val-required="Este campo es obligatorio.">
                                                <span class="input-group-addon input-group-icon">
                                                    <span class="glyphicon glyphicon-time"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btnConsultar">
                        <span class="circless animate" style="height: 106.938px; width: 106.938px; top: -35.469px; left: -9.37525px;"></span>Consultar
                    </button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <div class="modal fade" id="ModalDetalleXHora" tabindex="-1" role="dialog" aria-labelledby="default-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content" data-border-top="multi">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="TituloModalXHora"></h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div style="width: 100%; display: flex; justify-content:space-between;">
                                <h1>
                                    <span aria-hidden="true" class="icon icon-block-menu"></span>
                                    <span class="main-text">
                                        <span id="ResultadosXHora">Resultados</span>
                                    </span>
                                </h1>
                                <div class="btn-group">
                                    <button class="btn btn-success btn-sm" id="ExportToExcelDetalleXHora">
                                        <i class="fa fa-file-excel-o"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover table-condensed" id="tableDetalleXHora">
                                    <thead id="tHeadTableDetalleXHora"></thead>
                                    <tbody id="tBodyTableDetalleXHora"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
}

@section js
{
    @*<script src="~/Content/assets/viewsjs/Reportes/TITOCajas.js?v=@fecha_archivos"></script>*@
    <script src="~/Content/assets/viewsjs/Reportes/ERP/ConteoCliente/custom.js"></script>
    <script src="~/Content/assets/viewsjs/Reportes/ERP/ConteoCliente/ConteoCliente.js?v=@fecha_archivos"></script>
}