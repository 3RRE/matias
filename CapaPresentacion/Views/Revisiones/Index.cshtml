
@{
    ViewBag.Title = "Index";
}



<style>
    .header {
        width: 100%;
        height: 25vh;
        background-color: #323246;
        padding: 50px 0;
        display:flex;
    }

    .header-content {
        width: 95%;
        margin: auto;
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
    }

    .header h1 {
        color: white;
        text-shadow: none
    }

    #right-column .right-column-content {
        padding: unset;
    }

    .content {
        min-height: 90vh;
        background-color: #f3f4f3;
        display: flex;
        align-items: center;
        flex-direction:column
    }

    .contain {
        width: 95%;
        display: grid;
        gap: 2rem;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        height: fit-content
    }

    .contain-header {
        display: flex;
        justify-content: space-between
    }

    .btnExcel {
        border-radius: 5px !important;
        background-color: #107c41;
        color: white;
        border: none;
        padding: 10px 15px
    }

    .btnBuscar {
        border-radius: 5px !important;
        background-color: #3047d3;
        color: white;
        border: none;
        padding: 10px 15px
    }

    .cardAlertas {
        border-radius: 5px !important;
        background-color: white;
        padding: 15px 20px;
        box-shadow: 0px 10px 15px -3px rgba(0,0,0,0.1);
        display:flex;
        flex-direction:column;
    }

    .alerta {
        width: 15px;
        height: 15px;
        background-color: red;
        border-radius:100% !important;

    }
    .search {
        border: none !important;
        padding:0 15px;
        width:100%;
        height:100%
    }
    .search:focus {
        outline: none;
    }
    .alerta::after {
        content: '';
        position: relative;
        display: block;
        width: 300%;
        height: 300%;
        box-sizing: border-box;
        margin-left: -100%;
        margin-top: -100%;
        border-radius: 45px;
        background-color: red;
        animation: pulse-ring 1.25s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
    }

    .search-info {
        width: 95%;
        display: flex;
        justify-content: space-between;
        align-items: center
    }
    .search-input {
        position: relative;
        width: 350px;
        height: 50px;
        margin: 20px 0;
        border-radius: 5px !important;
        box-shadow: 0px 10px 15px -3px rgba(0,0,0,0.1);
    }
    @@media (max-width:580px) {
        .search-info{
            flex-direction:column;
            margin-bottom:25px;
        }
        .header-content {
            flex-direction: column;
            align-items: center;
        }
       
        .search-input{
            width:300px;
        }
    }
    @@media (max-width:350px) {
       
        .cardAlertas {
            width: 75%;
        }

    }
    @@keyframes pulse-ring {
        0% {
        transform: scale(.33);
      }
      80%, 100% {
        opacity: 0;
      }
    }

    @@keyframes pulse-dot {
      0% {
        transform: scale(.8);
      }
      50% {
        transform: scale(1);
      }
      100% {
        transform: scale(.8);
      }
    }
    p{
        margin:unset;
    }
    hr {
        margin-bottom: 10px !important;
        margin-top: 10px !important;
    }
    button{
        transition:all .4s ease;
    }
    button:hover {
        transform: translateY(-3px);
        filter: brightness(1.15);
    }
</style>



<div id="AppRevisiones">
    <div class="header">
        <div class="header-content">
            <h1 style="font-weight:400">REVISION ALERTA BILLETERO</h1>
            <div>
                <button class="btnExcel" @@click="generarExcel">Generar excel &nbsp  <span class="glyphicon glyphicon-file"></span></button>
                <button class="btnBuscar" @@click="nuevaConsulta">Volver a generar &nbsp  <span class="glyphicon glyphicon-search"></span></button>
            </div>
        </div>

    </div>
    <div class="content">

        <div v-if="mostrarPanel == false" style="background-color: #f3f4f3; height: 100vh; width: 100vw; z-index: 500; position: absolute"></div>
        <div class="search-info" >
            <div class="search-input">
                <input v-model="filtro" class="search" placeholder="Buscar sala" />
                <span class="glyphicon glyphicon-search" style="position: absolute; right: 15px; top: 15px; font-size: 20px; color: #c4c4c4; "></span>
            </div>
            <p>
                Cantidad de salas asignadas
                <strong> {{cantidadSalas}}</strong> 
            </p>
        </div>
        <div class="contain" style="text-shadow:none">



            <div v-for="(revision, index) in datosFiltrados" class="cardAlertas" :key="index">
                <h2 style="margin-bottom: 10px; font-size: 20px; color: #323246; font-weight:600">{{revision.NombreSala}}</h2>

                <div>
                    <hr />

                    <div v-for="(data,indexData) in revision.Registros" :key:="indexData">
                        <div v-if="data.Tipo == 1">
                            <p style="color: #4f4f4f;font-weight:600;font-size:17px;margin-bottom:10px;">Servicio WebOnline</p>
                            <p style="color: #616161">Ultimo registro el <strong>{{data.FechaRegistro}}</strong> </p>
                            <p style="color: #616161">{{data.Preview}}</p>
                            <hr />

                        </div>
                        <div v-if="data.Tipo == 2">

                            <p style="color: #4f4f4f;font-weight:600;font-size:17px;margin-bottom:10px;">Evento</p>
                            <div style="display:flex; align-items:center; justify-content:space-between">
                                <p style="color: #616161">Ultimo registro el <strong>{{data.FechaRegistro}}</strong> </p>
                                <div class="alerta" v-if="data.Peligro"></div>
                            </div>
                            <p style="color: #616161">{{data.Preview}}</p>
                            <hr />

                        </div>
                        <div v-if="data.Tipo == 3">
                            <p style="color: #4f4f4f;font-weight:600;font-size:17px;margin-bottom:10px;">Alerta Billetero</p>
                            <div style="display:flex; align-items:center; justify-content:space-between">
                                <p style="color: #616161">Ultimo registro el <strong>{{data.FechaRegistro}}</strong> </p>
                                <div class="alerta" v-if="data.Peligro"></div>
                            </div>
                            <p style="color: #616161">{{data.Preview}}</p>
                            <hr />

                        </div>
                    </div>

                </div>
                @*<p>Ultima alerta: 20/20/2023</p>
                <p>Ultimo evento: 20/20/2023</p>
                <p>Registro Servicio: 20/20/2023 Se detuvo</p>*@
            </div>





        </div>


    </div>
</div>



@section js{
    <script src="~/Content/assets/viewsjs/Revisiones/AlertaBilleteroRevision.js"></script>
    <script src="~/Content/assets/js/optional/vue/vue.min.js"></script>

}